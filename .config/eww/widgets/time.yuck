;; Time
(
  defvar timeState
  false
)

(
  defpoll timeHour
  :interval "5s"
  :initial "ERROR"
  ; `date +"%I:%M %p"` ;us
  `date +"%H:%M"` ;eu
)

(
  defpoll timeDate
  :interval "1m"
  :initial "ERROR"
  `date +"%F"`
)

(
  defwidget time [] (
    eventbox
    :cursor "pointer"
    :class "container"
    :onclick `eww update timeState=${!timeState}`
    ; :onrightclick 
    (
      box
      :class "spacer"
      { timeState ? timeDate : timeHour }
    )
  )
)